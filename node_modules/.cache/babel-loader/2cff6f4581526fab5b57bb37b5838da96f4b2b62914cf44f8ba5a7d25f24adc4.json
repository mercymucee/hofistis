{"ast":null,"code":"var _jsxFileName = \"/home/user/Documents/mercy-update-project/src/components/MpesaPayment.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport axios from 'axios';\nimport { useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MpesaPayment = () => {\n  _s();\n  const [loading, setLoading] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const {\n    product\n  } = useLocation().state || {};\n  const submit = async e => {\n    e.preventDefault();\n    setLoading(\"\");\n    try {\n      const data = new FormData();\n      data.append(\"phone\", phone);\n      data.append(\"amount\", product.cost);\n      const response = await axios.post(\"https://mercymucee.pythonanywhere.com/api/mpesa_payment\", data);\n      setLoading(\"\");\n      setMessage(response.data.message);\n    } catch (error) {\n      setLoading(\"\");\n      setError(error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row justify-content-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"mt-4\",\n      children: \"Mpesa Payment-Lipa na mpesa\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-6 card shadopw\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-info\",\n        children: [\"Product name:\", product.product_name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-warning\",\n        children: [\"Product cost:\", product.product_cost]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        action: \"\",\n        onSubmit: submit,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-warning\",\n          children: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-danger\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-success\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"tel\",\n          placeholder: \"254xxxxxxxxx\",\n          className: \"form-control\",\n          value: phone,\n          onChange: e => setPhone(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-dark\",\n          type: \"submit\",\n          children: \"Make Payments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(MpesaPayment, \"P8h6IFk9+VcPiWAn26IRba1wzw8=\", false, function () {\n  return [useLocation];\n});\n_c = MpesaPayment;\nexport default MpesaPayment;\nvar _c;\n$RefreshReg$(_c, \"MpesaPayment\");","map":{"version":3,"names":["React","axios","useState","useLocation","jsxDEV","_jsxDEV","MpesaPayment","_s","loading","setLoading","message","setMessage","phone","setPhone","error","setError","product","state","submit","e","preventDefault","data","FormData","append","cost","response","post","className","children","fileName","_jsxFileName","lineNumber","columnNumber","product_name","product_cost","action","onSubmit","type","placeholder","value","onChange","target","_c","$RefreshReg$"],"sources":["/home/user/Documents/mercy-update-project/src/components/MpesaPayment.jsx"],"sourcesContent":["import React from 'react'\nimport axios from  'axios'\nimport {useState} from 'react'\nimport {useLocation} from 'react-router-dom'\n\n\n\n\n\nconst MpesaPayment = () => {\n\n\n    const[loading,setLoading]=useState(\"\")\n    const[message,setMessage]=useState(\"\")\n    const[phone,setPhone]=useState(\"\")\n    const[error,setError]=useState(\"\")\n    const {product}=useLocation().state || {}\n\n    const submit=async (e) =>{\n      e.preventDefault()\n      setLoading(\"\")\n\n      try {\n\n        const data=new FormData()\n\n        data.append(\"phone\",phone)\n        data.append(\"amount\",product.cost)\n\n        const response=await axios.post(\"https://mercymucee.pythonanywhere.com/api/mpesa_payment\",data)\n        setLoading(\"\")\n        setMessage(response.data.message)\n        \n      } catch (error) {\n        \n        setLoading(\"\")\n        setError(error.message)\n      }\n    }\n    return (\n    <div className='row justify-content-center'>\n        <h2 className='mt-4'>Mpesa Payment-Lipa na mpesa</h2>\n\n        <div className='col-md-6 card shadopw'>\n            <p className='text-info'>Product name:{product.product_name}</p>\n            \n            <p className='text-warning'>Product cost:{product.product_cost}</p>\n\n        <form action=\"\" onSubmit={submit}>\n            <p className='text-warning'>{loading}</p>\n            <p className='text-danger'>{error}</p>\n            <p className='text-success'>{message}</p>\n           \n\n            <input type=\"tel\" placeholder='254xxxxxxxxx' className='form-control'  value={phone} onChange={(e)=>setPhone(e.target.value)}/>\n             \n                    \n          \n          <br />\n          <br />\n          <button className='btn btn-dark' type='submit'>Make Payments</button>\n        </form>\n\n\n        </div>\n    </div>\n  )\n}\n\nexport default MpesaPayment"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}